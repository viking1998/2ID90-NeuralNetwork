<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="286px" style="width:493px;height:286px;" version="1.1" viewBox="0 0 493 286" width="493px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1)" height="48" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="182.5" y="8"/><ellipse cx="197.5" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M200.4688,29.6406 Q199.8906,29.9375 199.25,30.0859 Q198.6094,30.2344 197.9063,30.2344 Q195.4063,30.2344 194.0859,28.5859 Q192.7656,26.9375 192.7656,23.8125 Q192.7656,20.6875 194.0859,19.0313 Q195.4063,17.375 197.9063,17.375 Q198.6094,17.375 199.2578,17.5313 Q199.9063,17.6875 200.4688,17.9844 L200.4688,20.7031 Q199.8438,20.125 199.25,19.8516 Q198.6563,19.5781 198.0313,19.5781 Q196.6875,19.5781 196,20.6484 Q195.3125,21.7188 195.3125,23.8125 Q195.3125,25.9063 196,26.9766 Q196.6875,28.0469 198.0313,28.0469 Q198.6563,28.0469 199.25,27.7734 Q199.8438,27.5 200.4688,26.9219 L200.4688,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="211.5" y="28.1543">FullyConnected</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="183.5" x2="306.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="183.5" x2="306.5" y1="48" y2="48"/><polygon fill="#FBFB77" filter="url(#f1)" points="6,116,6,277.3281,484,277.3281,484,126,474,116,6,116" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="6,116,6,277.3281,484,277.3281,484,126,474,116,249,116,245,56.2725,241,116,6,116" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="474" x2="474" y1="116" y2="126"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="484" x2="474" y1="126" y2="126"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="12" y="133.0669">UpdateFunction bu, wu;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="12" y="148.1997">updateLayer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="103" y="148.1997">(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="28" y="163.3325">Supplier&lt;UpdateFunction&gt; suf, float learningRate, int batchSize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="12" y="178.4653">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="28" y="193.5981"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="305" x="28" y="193.5981">// at the first call create update functions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="28" y="208.731"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10" x="28" y="208.731">if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="42" y="208.731">(bu==null) bu := suf.get();</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10" x="220" y="208.731">if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="234" y="208.731">(wu==null) wu := suf.get();</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="223.8638"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="28" y="238.9966"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="392" x="28" y="238.9966">// use update functions to update weights and biases</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="400" x="28" y="254.1294">bu.update(bias   , true , learningRate, batchSize, biasUpdate);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="441" x="28" y="269.2622">wu.update(weights, false, learningRate, batchSize, weightsUpdate);</text></g></svg>